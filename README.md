# rambler-mail-cleaner

Утилита на Python для поиска, подсчёта и удаления писем в почтовом ящике **Rambler.ru** по доменам отправителей через **IMAP**.

⚠️ Безопасность: по умолчанию скрипт работает в режиме **dry-run** (ничего не удаляет). Удаление включается только флагом `--delete`.

## Возможности
- Поиск писем по доменам отправителей (например: `ozon.ru`, `linkedin.com`, `hh.ru` и т.д.)
- Подсчёт найденных писем по каждому домену
- Пакетное удаление (удобно для больших ящиков)
- Обработка одной папки или всех папок

## Требования
- Python 3.10+ (у тебя может быть новее — это нормально)
- Включённый доступ к почтовым программам/IMAP в настройках Rambler (Настройки → Программы → доступ для клиентов)

## Установка
Клонируй репозиторий и перейди в папку проекта:

```bash
git clone https://github.com/<your-username>/rambler-mail-cleaner.git
cd rambler-mail-cleaner
export RAMBLER_USER="user@rambler.ru"
export RAMBLER_PASS="ваш_пароль_или_пароль_приложения"

Параметры

--folders — папки через запятую (INBOX,Sent) или "*" для всех

--delete — реально удалять письма (без него — dry-run)

--batch — размер пачки UID для удаления (по умолчанию 500)

--user / --password — можно передать логин/пароль аргументами (если не хочешь env)

Важно

Удаление в IMAP обычно происходит как “пометить удалённым + очистить (expunge)”.

Сначала запускай dry-run, чтобы убедиться, что фильтр не зацепит лишнее.

Не добавляй пароли в репозиторий. Если используешь .env, добавь его в .gitignore.